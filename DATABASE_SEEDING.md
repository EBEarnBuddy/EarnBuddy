# Database Seeding System

This document explains how the permanent projects seeding system works and how to use it.

## Overview

The seeding system automatically adds permanent projects to the Firestore database so they're always available when users log in. This ensures that the FreelancePage always has content to display, even for new users or empty databases.

## How It Works

### 1. Automatic Seeding
- When the FreelancePage loads, it automatically checks if projects exist in the database
- If no projects are found, it automatically seeds the database with 5 permanent projects
- This happens transparently in the background

### 2. Duplicate Prevention
- The system checks for existing projects by title to prevent duplicates
- If a project with the same title already exists, it skips that project
- This allows the system to be run multiple times safely

### 3. Permanent Projects Included

The system includes 5 diverse projects:

1. **AI-Powered E-commerce Platform** (TechVentures Inc.)
   - Senior Frontend Developer
   - AI/ML Engineer

2. **Sustainable Energy Management System** (GreenTech Solutions)
   - IoT Engineer
   - Data Scientist

3. **FinTech Mobile Banking App** (DigitalBank Pro)
   - Mobile App Developer (React Native)
   - Backend Developer (Node.js)

4. **Healthcare Telemedicine Platform** (HealthConnect)
   - Frontend Developer (Vue.js)
   - Security Engineer

5. **Social Impact Non-Profit Website** (CommunityBuilders)
   - Full-Stack Developer
   - UI/UX Designer

## Files

### Core Files
- `src/lib/seedProjects.ts` - Main seeding logic and project data
- `src/components/AdminSeedButton.tsx` - Admin UI component for manual seeding
- `scripts/seedDatabase.ts` - Standalone seeding script

### Integration
- `src/pages/FreelancePage.tsx` - Automatically calls seeding on page load

## Usage

### Automatic Seeding (Recommended)
The system works automatically - just load the FreelancePage and projects will be seeded if needed.

### Manual Seeding (Development)
1. **Admin Button**: In development mode, a "Seed Projects" button appears in the bottom-right corner of the FreelancePage
2. **Standalone Script**: Run `npx tsx scripts/seedDatabase.ts` (requires Firebase config)

### Programmatic Seeding
```typescript
import { seedPermanentProjects, checkAndSeedProjects } from '../lib/seedProjects';

// Seed all projects (skips duplicates)
const count = await seedPermanentProjects();

// Check and seed only if no projects exist
await checkAndSeedProjects();
```

## Project Structure

Each permanent project includes:
- **Basic Info**: Title, description, company, industry, type
- **Budget & Timeline**: Total budget, duration, location, remote options
- **Benefits**: Health insurance, equity, flexible hours, etc.
- **Roles**: Multiple positions with detailed requirements
- **Skills & Experience**: Specific technical requirements
- **Status**: Always set to "open" for permanent availability

## Customization

### Adding New Projects
1. Edit `src/lib/seedProjects.ts`
2. Add new project objects to the `permanentProjects` array
3. Follow the existing structure and naming conventions

### Modifying Existing Projects
1. Edit the project data in `src/lib/seedProjects.ts`
2. The changes will apply to new database instances
3. Existing databases won't be affected (due to duplicate prevention)

### Removing Projects
1. Remove projects from the `permanentProjects` array
2. Existing projects in the database will remain
3. New database instances won't include the removed projects

## Database Impact

- **Collection**: Projects are stored in the `gigs` collection
- **Document Structure**: Follows the `Gig` interface from `firestore.ts`
- **Timestamps**: Automatically set to server timestamp
- **IDs**: Auto-generated by Firestore
- **Posted By**: Set to "system" with "EarnBuddy Team" as the name

## Security Considerations

- Projects are created with `postedBy: "system"` to distinguish them from user-created projects
- All projects are marked as "open" and available for applications
- No sensitive data is included in the seed projects
- Projects are publicly visible to all users

## Troubleshooting

### Projects Not Appearing
1. Check browser console for errors
2. Verify Firebase configuration
3. Check Firestore security rules
4. Ensure the seeding function is being called

### Duplicate Projects
- The system prevents duplicates by title
- If you see duplicates, they were likely created manually
- You can manually delete duplicates from the Firestore console

### Seeding Fails
1. Check Firebase permissions
2. Verify network connectivity
3. Check Firestore quota limits
4. Review error messages in console

## Future Enhancements

Potential improvements:
- Add more diverse project types
- Include different experience levels
- Add seasonal or trending projects
- Implement project rotation/archiving
- Add localization for different regions